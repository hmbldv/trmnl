# =============================================================================
# trmnl :: Starship Prompt Config — Triangle Powerline
# =============================================================================

# Timeout for commands (ms)
command_timeout = 1000

# Use Catppuccin Mocha palette
palette = "catppuccin_mocha"

# -----------------------------------------------------------------------------
# Prompt Format
# Triangle separator (\ue0b0) at right edge of each colored segment
# Segments: [Identity:green] [Directory:blue] [Git:mauve] langs...
# -----------------------------------------------------------------------------
format = """
$env_var\
$os\
$username\
$hostname\
[\ue0b0](fg:green) \
$directory\
[\ue0b0](fg:blue)\
$git_branch\
$git_status\
$python\
$nodejs\
$rust\
$golang\
$docker_context\
$kubernetes\
$cmd_duration\
$line_break\
$character"""

# -----------------------------------------------------------------------------
# Disabled Modules
# -----------------------------------------------------------------------------
[aws]
disabled = true

[gcloud]
disabled = true

[azure]
disabled = true

# -----------------------------------------------------------------------------
# SSH Indicator
# -----------------------------------------------------------------------------
[env_var.SSH_CONNECTION]
format = "[SSH ](bold yellow)"
variable = "SSH_CONNECTION"

# -----------------------------------------------------------------------------
# OS Icon
# -----------------------------------------------------------------------------
[os]
disabled = false
format = "[ $symbol]($style)"
style = "bold fg:crust bg:green"

[os.symbols]
Macos = "\uf179"
Linux = "\uf17c"
Ubuntu = "\uf31b"
Debian = "\uf306"
Fedora = "\uf30a"
Arch = "\uf303"

# -----------------------------------------------------------------------------
# Username
# -----------------------------------------------------------------------------
[username]
show_always = true
format = "[ $user]($style)"
style_user = "bold fg:crust bg:green"
style_root = "bold fg:red bg:green"

# -----------------------------------------------------------------------------
# Hostname (bold atom icon separator before hostname)
# -----------------------------------------------------------------------------
[hostname]
ssh_only = false
format = "[ \ue764 $hostname ]($style)"
style = "bold fg:crust bg:green"
trim_at = "."

# -----------------------------------------------------------------------------
# Directory
# -----------------------------------------------------------------------------
[directory]
truncation_length = 3
truncate_to_repo = true
format = "[ $path ]($style)"
style = "bold fg:crust bg:blue"

# -----------------------------------------------------------------------------
# Git
# -----------------------------------------------------------------------------
[git_branch]
format = " [ $symbol$branch ]($style)"
style = "bold fg:crust bg:mauve"

[git_status]
format = "([$all_status$ahead_behind ]($style))[\ue0b0](fg:mauve)"
style = "bold fg:crust bg:mauve"

# -----------------------------------------------------------------------------
# Languages (unsegmented, no background)
# -----------------------------------------------------------------------------
[python]
format = " [$symbol$version]($style)"
symbol = " "
style = "yellow"

[nodejs]
format = " [$symbol$version]($style)"
symbol = " "
style = "green"

[rust]
format = " [$symbol$version]($style)"
symbol = " "
style = "red"

[golang]
format = " [$symbol$version]($style)"
symbol = " "
style = "cyan"

# -----------------------------------------------------------------------------
# Infrastructure
# -----------------------------------------------------------------------------
[docker_context]
format = " [$symbol$context]($style)"
symbol = " "
style = "blue"
only_with_files = true

[kubernetes]
format = " [$symbol$context]($style)"
symbol = "☸ "
style = "cyan"
disabled = false

# -----------------------------------------------------------------------------
# Command Duration
# -----------------------------------------------------------------------------
[cmd_duration]
min_time = 2000
format = " [$duration]($style)"
style = "yellow"

# -----------------------------------------------------------------------------
# Prompt Character
# -----------------------------------------------------------------------------
[character]
success_symbol = "[❯](green)"
error_symbol = "[❯](red)"

# =============================================================================
# Catppuccin Mocha Palette
# =============================================================================
[palettes.catppuccin_mocha]
rosewater = "#f5e0dc"
flamingo  = "#f2cdcd"
pink      = "#f5c2e7"
mauve     = "#cba6f7"
red       = "#f38ba8"
maroon    = "#eba0ac"
peach     = "#fab387"
yellow    = "#f9e2af"
green     = "#a6e3a1"
teal      = "#94e2d5"
sky       = "#89dceb"
sapphire  = "#74c7ec"
blue      = "#89b4fa"
lavender  = "#b4befe"
text      = "#cdd6f4"
subtext1  = "#bac2de"
subtext0  = "#a6adc8"
overlay2  = "#9399b2"
overlay1  = "#7f849c"
overlay0  = "#6c7086"
surface2  = "#585b70"
surface1  = "#45475a"
surface0  = "#313244"
base      = "#1e1e2e"
mantle    = "#181825"
crust     = "#11111b"
